<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automotive System, Fuels and Lubricants Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #e0e7ff, #c3dafe);
            margin: 0;
            padding: 2rem;
            color: #333;
            min-height: 100vh;
        }

        .quiz-container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 1.5rem;
            color: #1e3a8a;
            font-size: 2rem;
            font-weight: 700;
        }

        h2 {
            text-align: center;
            color: #1e3a8a;
            margin: 1rem 0;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
        }

        .timer {
            font-size: 1.2rem;
            font-weight: 600;
            color: #d81b60;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .progress {
            height: 100%;
            background: #3b82f6;
            transition: width 0.3s ease;
        }

        .question {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 12px;
            animation: fadeIn 0.5s;
            transition: transform 0.2s ease;
        }

        .question:hover {
            transform: translateY(-2px);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .question p {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e3a8a;
            margin-bottom: 1rem;
        }

        .options button {
            display: block;
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            color: #374151;
        }

        .options button:hover:not(:disabled) {
            background: #f3f4f6;
            border-color: #3b82f6;
            transform: translateX(4px);
        }

        .options button.correct {
            background: #bbf7d0;
            border-color: #22c55e;
            color: #166534;
            animation: pulse 0.5s;
        }

        .options button.wrong {
            background: #fecaca;
            border-color: #ef4444;
            color: #991b1b;
            animation: shake 0.3s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .options button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .explanation {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: #eff6ff;
            border-radius: 8px;
            color: #1e3a8a;
            font-size: 0.95rem;
        }

        .skip-button {
            background: #fff3cd;
            margin-top: 1rem;
            padding: 0.75rem;
            width: 100%;
            border: 1px solid #ffca28;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .skip-button:hover {
            background: #ffecb3;
        }

        .next-button {
            background: #3b82f6;
            color: #fff;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
            display: block;
            width: 100%;
            text-align: center;
            transition: background 0.3s ease;
        }

        .next-button:hover:not(:disabled) {
            background: #2563eb;
        }

        .next-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .score-container {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 12px;
        }

        .score {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            font-size: 0.95rem;
        }

        .results-table th, .results-table td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
        }

        .results-table th {
            background: #f8fafc;
            color: #1e3a8a;
            font-weight: 600;
        }

        .results-table .correct {
            color: #166534;
            font-weight: bold;
        }

        .results-table .wrong {
            color: #991b1b;
            font-weight: bold;
        }

        .results-table .skipped, .results-table .not-attempted {
            color: #d97706;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .restart-button {
            background: #22c55e;
            color: #fff;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 1rem auto;
            display: block;
            width: 100%;
            text-align: center;
            transition: background 0.3s ease;
        }

        .restart-button:hover {
            background: #16a34a;
        }

        @media (max-width: 600px) {
            body {
                padding: 1rem;
            }

            .quiz-container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.8rem;
            }

            .question p {
                font-size: 1rem;
            }

            .options button, .skip-button, .next-button, .restart-button {
                font-size: 0.9rem;
                padding: 0.8rem;
            }

            .results-table th, .results-table td {
                padding: 0.5rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>Automotive System, Fuels and Lubricants Quiz</h1>
        <div class="quiz-header">
            <div class="timer" id="timer">Time: 00:00</div>
            <div class="score" id="current-score">Score: 0/80</div>
        </div>
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        <div id="quiz"></div>
        <div class="score-container">
            <div class="score" id="score"></div>
            <div id="results" class="hidden">
                <h2>Quiz Results</h2>
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Question</th>
                            <th>Your Answer</th>
                            <th>Correct Answer</th>
                            <th>Status</th>
                            <th>Explanation</th>
                        </tr>
                    </thead>
                    <tbody id="results-body"></tbody>
                </table>
                <button class="restart-button" onclick="restartQuiz()">Restart Quiz</button>
            </div>
        </div>
    </div>

    <audio id="correct-sound" src="https://www.soundjay.com/buttons/beep-01a.mp3"></audio>
    <audio id="wrong-sound" src="https://www.soundjay.com/buttons/beep-02.mp3"></audio>

    <script>
        const questions = [
            // Section 5.1: Components of Automobile (Original 10 MCQs)
            {
                q: "Which component is part of the transmission system?",
                options: ["Radiator", "Clutch", "Alternator", "Exhaust pipe"],
                answer: 1,
                explanation: "The clutch is a key component of the transmission system, enabling power transfer from the engine."
            },
            {
                q: "What is the primary function of the steering system?",
                options: ["To cool the engine", "To control vehicle direction", "To lubricate parts", "To exhaust gases"],
                answer: 1,
                explanation: "The steering system allows the driver to control the vehicle’s direction."
            },
            {
                q: "Which part is essential in the suspension system?",
                options: ["Shock absorber", "Fuel pump", "Spark plug", "Muffler"],
                answer: 0,
                explanation: "Shock absorbers absorb road shocks, ensuring a smooth ride in the suspension system."
            },
            {
                q: "What is the main purpose of the cooling system?",
                options: ["To increase engine power", "To regulate engine temperature", "To store fuel", "To charge the battery"],
                answer: 1,
                explanation: "The cooling system prevents engine overheating by regulating its temperature."
            },
            {
                q: "Which component is part of the lubrication system?",
                options: ["Oil pump", "Brake pads", "Tires", "Carburetor"],
                answer: 0,
                explanation: "The oil pump circulates oil to lubricate engine components."
            },
            {
                q: "What is the function of the exhaust system?",
                options: ["To supply air to the engine", "To expel combustion gases", "To store fuel", "To support the chassis"],
                answer: 1,
                explanation: "The exhaust system removes combustion gases from the engine."
            },
            {
                q: "Which device is part of the electrical system?",
                options: ["Starter motor", "Transmission gear", "Differential", "Wheel hub"],
                answer: 0,
                explanation: "The starter motor is an electrical component that initiates engine operation."
            },
            {
                q: "What is the role of the fuel system?",
                options: ["To cool the engine", "To deliver fuel to the engine", "To steer the vehicle", "To absorb shocks"],
                answer: 1,
                explanation: "The fuel system ensures fuel is delivered to the engine for combustion."
            },
            {
                q: "Which component is critical for the braking system?",
                options: ["Brake caliper", "Radiator fan", "Steering wheel", "Oil filter"],
                answer: 0,
                explanation: "The brake caliper applies pressure to stop the vehicle in the braking system."
            },
            {
                q: "What is the purpose of tires in an automobile?",
                options: ["To generate power", "To provide traction and support", "To filter exhaust", "To regulate oil"],
                answer: 1,
                explanation: "Tires provide traction and support the vehicle’s weight on the road."
            },

            // Section 5.2: General Knowledge on Fuels and Lubricants (Original 10 MCQs)
            {
                q: "Which fuel is commonly used in diesel engines?",
                options: ["Petrol", "Diesel", "Kerosene", "LPG"],
                answer: 1,
                explanation: "Diesel fuel is specifically designed for compression-ignition engines."
            },
            {
                q: "What is a key property of a good lubricant?",
                options: ["High viscosity", "Low thermal stability", "High corrosiveness", "Poor flow"],
                answer: 0,
                explanation: "High viscosity ensures effective lubrication under varying temperatures."
            },
            {
                q: "Which type of fuel is used in two-stroke engines?",
                options: ["Pure diesel", "Petrol with oil mixture", "Kerosene", "LPG"],
                answer: 1,
                explanation: "Two-stroke engines require a petrol-oil mixture for lubrication and combustion."
            },
            {
                q: "What is the primary function of engine oil?",
                options: ["To clean the engine", "To reduce friction and wear", "To increase fuel consumption", "To cool the tires"],
                answer: 1,
                explanation: "Engine oil reduces friction and wear between moving parts."
            },
            {
                q: "Which lubricant is suitable for high-temperature applications?",
                options: ["Synthetic oil", "Vegetable oil", "Water", "Grease"],
                answer: 0,
                explanation: "Synthetic oil withstands high temperatures better than other lubricants."
            },
            {
                q: "What is a disadvantage of using low-quality fuel?",
                options: ["Improved engine performance", "Increased engine deposits", "Lower emissions", "Extended engine life"],
                answer: 1,
                explanation: "Low-quality fuel leads to carbon deposits and reduced engine efficiency."
            },
            {
                q: "Which fuel has the highest octane rating?",
                options: ["Regular petrol", "Premium petrol", "Diesel", "Kerosene"],
                answer: 1,
                explanation: "Premium petrol has a higher octane rating, improving combustion efficiency."
            },
            {
                q: "What is the role of additives in lubricants?",
                options: ["To increase viscosity", "To enhance performance and protection", "To reduce oil flow", "To darken the oil"],
                answer: 1,
                explanation: "Additives improve lubrication, reduce wear, and protect against corrosion."
            },
            {
                q: "Which lubricant is used for gear systems?",
                options: ["Engine oil", "Gear oil", "Hydraulic fluid", "Coolant"],
                answer: 1,
                explanation: "Gear oil is specifically formulated for the high-pressure environment of gear systems."
            },
            {
                q: "What type of fuel is commonly used in CNG vehicles?",
                options: ["Compressed Natural Gas", "Diesel", "Petrol", "LPG"],
                answer: 0,
                explanation: "CNG (Compressed Natural Gas) is a cleaner alternative fuel for vehicles."
            },

            // Section 5.3: Application and Changing Interval of Lubricants (Original 10 MCQs)
            {
                q: "How often should engine oil be changed in a passenger car?",
                options: ["Every 5,000 km", "Every 10,000-15,000 km", "Every 50,000 km", "Every year"],
                answer: 1,
                explanation: "Engine oil is typically changed every 10,000-15,000 km or as per manufacturer guidelines."
            },
            {
                q: "Which lubricant is applied to the chassis of a vehicle?",
                options: ["Gear oil", "Chassis grease", "Engine oil", "Hydraulic fluid"],
                answer: 1,
                explanation: "Chassis grease is used to lubricate and protect chassis components."
            },
            {
                q: "What is the recommended interval for changing transmission fluid?",
                options: ["Every 20,000 km", "Every 60,000-100,000 km", "Every 5,000 km", "Never"],
                answer: 1,
                explanation: "Transmission fluid should be changed every 60,000-100,000 km to maintain performance."
            },
            {
                q: "Which factor determines the lubricant change interval?",
                options: ["Vehicle color", "Operating conditions", "Tire size", "Fuel type"],
                answer: 1,
                explanation: "Operating conditions like temperature and load affect the lubricant change interval."
            },
            {
                q: "What is the purpose of changing brake fluid periodically?",
                options: ["To improve fuel efficiency", "To prevent corrosion and maintain braking performance", "To cool the engine", "To lubricate tires"],
                answer: 1,
                explanation: "Periodic brake fluid changes prevent corrosion and ensure effective braking."
            },
            {
                q: "Which lubricant is used for wheel bearings?",
                options: ["Engine oil", "Grease", "Transmission fluid", "Coolant"],
                answer: 1,
                explanation: "Grease is applied to wheel bearings to reduce friction and wear."
            },
            {
                q: "How often should differential oil be replaced?",
                options: ["Every 10,000 km", "Every 50,000-80,000 km", "Every 200,000 km", "Never"],
                answer: 1,
                explanation: "Differential oil should be replaced every 50,000-80,000 km to protect gears."
            },
            {
                q: "What indicates the need to change engine oil?",
                options: ["New tire installation", "Dark color and contamination", "Increased fuel", "Bright oil appearance"],
                answer: 1,
                explanation: "Dark, contaminated oil signals the need for a change due to wear debris."
            },
            {
                q: "Which lubricant is applied to the steering system?",
                options: ["Hydraulic fluid", "Engine oil", "Gear oil", "Coolant"],
                answer: 0,
                explanation: "Hydraulic fluid lubricates and powers the steering system in power steering units."
            },
            {
                q: "What is the typical interval for changing coolant in a vehicle?",
                options: ["Every 2-5 years", "Every 6 months", "Every 1,000 km", "Never"],
                answer: 0,
                explanation: "Coolant should be changed every 2-5 years or as per manufacturer recommendations."
            },

            // Additional Questions for Depth (Original 30 MCQs)
            {
                q: "Which component connects the engine to the transmission?",
                options: ["Clutch", "Flywheel", "Crankshaft", "Camshaft"],
                answer: 0,
                explanation: "The clutch connects the engine to the transmission, allowing power transfer."
            },
            {
                q: "What is the function of the suspension system’s spring?",
                options: ["To steer the vehicle", "To absorb road shocks", "To cool the engine", "To exhaust gases"],
                answer: 1,
                explanation: "Springs in the suspension system absorb road shocks for a smoother ride."
            },
            {
                q: "Which part of the braking system applies friction to stop the vehicle?",
                options: ["Brake pads", "Brake fluid", "Master cylinder", "Brake pedal"],
                answer: 0,
                explanation: "Brake pads apply friction to the rotors or drums to stop the vehicle."
            },
            {
                q: "What is the role of the alternator in the electrical system?",
                options: ["To start the engine", "To charge the battery", "To cool the engine", "To lubricate parts"],
                answer: 1,
                explanation: "The alternator generates electricity to charge the battery and power electrical systems."
            },
            {
                q: "Which fuel additive improves combustion efficiency?",
                options: ["Detergent", "Antioxidant", "Viscosity improver", "Corrosion inhibitor"],
                answer: 0,
                explanation: "Detergents in fuel clean injectors, improving combustion efficiency."
            },
            {
                q: "What is a characteristic of synthetic lubricants?",
                options: ["Low performance", "High thermal stability", "High water content", "Poor flow"],
                answer: 1,
                explanation: "Synthetic lubricants offer high thermal stability for extreme conditions."
            },
            {
                q: "How often should grease be applied to wheel bearings?",
                options: ["Every 10,000 km", "During routine maintenance or every 30,000-40,000 km", "Every 100,000 km", "Never"],
                answer: 1,
                explanation: "Grease is applied during routine maintenance or every 30,000-40,000 km."
            },
            {
                q: "Which system uses a thermostat to regulate temperature?",
                options: ["Fuel system", "Cooling system", "Exhaust system", "Lubrication system"],
                answer: 1,
                explanation: "The thermostat in the cooling system regulates engine temperature."
            },
            {
                q: "What is the purpose of the catalytic converter in the exhaust system?",
                options: ["To increase power", "To reduce harmful emissions", "To cool exhaust gases", "To lubricate parts"],
                answer: 1,
                explanation: "The catalytic converter reduces harmful emissions like CO and NOx."
            },
            {
                q: "Which tire component provides grip on the road?",
                options: ["Sidewall", "Tread", "Bead", "Ply"],
                answer: 1,
                explanation: "The tread provides grip and traction on the road surface."
            },
            {
                q: "What is the recommended tire pressure for a passenger car?",
                options: ["20-25 psi", "30-35 psi", "50-60 psi", "80-90 psi"],
                answer: 1,
                explanation: "Passenger cars typically require 30-35 psi as per manufacturer guidelines."
            },
            {
                q: "Which lubricant is used in hydraulic steering systems?",
                options: ["Gear oil", "Hydraulic fluid", "Engine oil", "Grease"],
                answer: 1,
                explanation: "Hydraulic fluid lubricates and transmits power in steering systems."
            },
            {
                q: "What indicates the need to change transmission fluid?",
                options: ["Clear color", "Burnt smell and dark color", "New fluid appearance", "Low temperature"],
                answer: 1,
                explanation: "A burnt smell and dark color indicate degraded transmission fluid."
            },
            {
                q: "Which fuel is used in jet engines?",
                options: ["Petrol", "Kerosene", "Diesel", "LPG"],
                answer: 1,
                explanation: "Kerosene-based jet fuel is used in aviation turbine engines."
            },
            {
                q: "What is the function of the differential in the transmission system?",
                options: ["To steer the vehicle", "To allow wheels to rotate at different speeds", "To cool the engine", "To filter fuel"],
                answer: 1,
                explanation: "The differential enables wheels to rotate at different speeds during turns."
            },
            {
                q: "Which component stores electrical energy in the vehicle?",
                options: ["Alternator", "Battery", "Starter", "Ignition coil"],
                answer: 1,
                explanation: "The battery stores electrical energy for starting and accessories."
            },
            {
                q: "What is the role of the fuel filter in the fuel system?",
                options: ["To increase fuel pressure", "To remove contaminants", "To cool the fuel", "To store fuel"],
                answer: 1,
                explanation: "The fuel filter removes dirt and water from the fuel."
            },
            {
                q: "Which lubricant is unsuitable for high-speed bearings?",
                options: ["Synthetic oil", "Heavy grease", "Light oil", "Silicone oil"],
                answer: 1,
                explanation: "Heavy grease can overheat and fail in high-speed bearing applications."
            },
            {
                q: "What is the typical interval for rotating tires?",
                options: ["Every 5,000-8,000 km", "Every 50,000 km", "Every year", "Never"],
                answer: 0,
                explanation: "Tires should be rotated every 5,000-8,000 km to ensure even wear."
            },
            {
                q: "Which system uses a fan to assist cooling?",
                options: ["Lubrication system", "Cooling system", "Fuel system", "Exhaust system"],
                answer: 1,
                explanation: "The cooling system uses a fan to enhance airflow over the radiator."
            },
            {
                q: "What is the purpose of the power steering pump?",
                options: ["To filter oil", "To assist steering effort", "To cool the engine", "To exhaust gases"],
                answer: 1,
                explanation: "The power steering pump reduces steering effort for the driver."
            },
            {
                q: "Which fuel has the lowest flash point?",
                options: ["Diesel", "Petrol", "Kerosene", "LPG"],
                answer: 1,
                explanation: "Petrol has a lower flash point, making it more flammable than diesel."
            },
            {
                q: "What is the role of the suspension system’s strut?",
                options: ["To steer the vehicle", "To support weight and dampen shocks", "To lubricate parts", "To filter air"],
                answer: 1,
                explanation: "Struts support the vehicle and dampen shocks in the suspension system."
            },
            {
                q: "Which lubricant is used for heavy machinery under load?",
                options: ["Light oil", "Heavy-duty grease", "Water-based fluid", "Engine oil"],
                answer: 1,
                explanation: "Heavy-duty grease is suitable for heavy machinery under high loads."
            },
            {
                q: "What is the recommended interval for checking brake fluid level?",
                options: ["Every 1,000 km", "Every 10,000 km", "Every 50,000 km", "Never"],
                answer: 0,
                explanation: "Brake fluid levels should be checked every 1,000 km for safety."
            },
            {
                q: "Which component adjusts the air-fuel mixture in the fuel system?",
                options: ["Carburetor", "Exhaust valve", "Oil pump", "Radiator"],
                answer: 0,
                explanation: "The carburetor regulates the air-fuel mixture for combustion."
            },

            // Additional 20 Important MCQs (Inspired by "5000 MCQs for Mechanical Online")
            {
                q: "What is the primary function of the oil filter in a lubrication system?",
                options: ["To increase oil pressure", "To remove contaminants from oil", "To cool the engine", "To store excess oil"],
                answer: 1,
                explanation: "The oil filter removes dirt, debris, and metal particles to maintain oil cleanliness and protect engine components."
            },
            {
                q: "Which type of lubrication system uses an external oil tank?",
                options: ["Wet sump system", "Dry sump system", "Splash system", "Mist system"],
                answer: 1,
                explanation: "The dry sump system uses an external oil tank to store and supply oil, ideal for high-performance engines."
            },
            {
                q: "What is the typical cetane number range for high-quality diesel fuel?",
                options: ["20-30", "40-50", "60-70", "80-90"],
                answer: 1,
                explanation: "A cetane number of 40-50 indicates good ignition quality for diesel fuel, ensuring efficient combustion."
            },
            {
                q: "Which component in the braking system converts hydraulic pressure into mechanical force?",
                options: ["Brake pedal", "Master cylinder", "Brake caliper", "Brake drum"],
                answer: 2,
                explanation: "The brake caliper converts hydraulic pressure into mechanical force to apply brake pads."
            },
            {
                q: "What is the purpose of the viscosity index improver in lubricants?",
                options: ["To reduce oil thickness", "To maintain viscosity across temperature changes", "To increase oil acidity", "To enhance fuel economy"],
                answer: 1,
                explanation: "Viscosity index improvers help maintain consistent lubrication performance over a range of temperatures."
            },
            {
                q: "Which fuel system component prevents vapor lock in high-temperature conditions?",
                options: ["Fuel pump", "Fuel injector", "Fuel return line", "Carburetor float"],
                answer: 2,
                explanation: "The fuel return line circulates excess fuel back to the tank, preventing vapor lock due to heat."
            },
            {
                q: "What is the maximum pressure typically maintained in a pressure lubrication system?",
                options: ["50-100 kPa", "200-300 kPa", "400-500 kPa", "600-700 kPa"],
                answer: 2,
                explanation: "Pressure lubrication systems typically maintain 400-500 kPa to ensure adequate oil distribution."
            },
            {
                q: "Which type of steering system uses a rack and pinion mechanism?",
                options: ["Recirculating ball", "Power steering", "Rack and pinion", "Worm and sector"],
                answer: 2,
                explanation: "The rack and pinion system provides direct and precise steering control in modern vehicles."
            },
            {
                q: "What is the primary cause of tire wear on the outer edges?",
                options: ["Underinflation", "Overinflation", "Misalignment", "Overloading"],
                answer: 1,
                explanation: "Underinflation causes uneven pressure, leading to excessive wear on the tire's outer edges."
            },
            {
                q: "Which lubricant additive prevents rust and corrosion in engine components?",
                options: ["Detergent", "Antioxidant", "Corrosion inhibitor", "Dispersant"],
                answer: 2,
                explanation: "Corrosion inhibitors protect metal surfaces from rust by forming a protective film."
            },
            {
                q: "What is the function of the thermostat in the cooling system?",
                options: ["To increase coolant flow", "To regulate engine operating temperature", "To filter coolant", "To reduce engine noise"],
                answer: 1,
                explanation: "The thermostat regulates coolant flow to maintain optimal engine temperature."
            },
            {
                q: "Which fuel has the highest energy content per unit volume?",
                options: ["Petrol", "Diesel", "Kerosene", "Ethanol"],
                answer: 1,
                explanation: "Diesel has a higher energy content per unit volume, making it efficient for heavy-duty engines."
            },
            {
                q: "What is the role of the crankshaft in the engine?",
                options: ["To compress air-fuel mixture", "To convert linear motion to rotary motion", "To regulate oil flow", "To exhaust gases"],
                answer: 1,
                explanation: "The crankshaft converts the piston's linear motion into rotary motion to drive the vehicle."
            },
            {
                q: "Which component in the exhaust system reduces nitrogen oxide emissions?",
                q: "Which component in the exhaust system reduces nitrogen oxide emissions?",
                options: ["Muffler", "Catalytic converter", "Exhaust manifold", "Tailpipe"],
                answer: 1,
                explanation: "The catalytic converter reduces nitrogen oxides (NOx) through chemical reactions."
            },
            {
                q: "What is the typical oil change interval for heavy-duty trucks?",
                options: ["5,000-10,000 km", "15,000-20,000 km", "30,000-40,000 km", "50,000-60,000 km"],
                answer: 1,
                explanation: "Heavy-duty trucks require oil changes every 15,000-20,000 km due to higher operating stresses."
            },
            {
                q: "Which type of suspension system uses a coil spring and shock absorber combined?",
                options: ["Leaf spring", "MacPherson strut", "Torsion bar", "Air suspension"],
                answer: 1,
                explanation: "The MacPherson strut integrates a coil spring and shock absorber for compact design."
            },
            {
                q: "What is the purpose of the fuel injector in a diesel engine?",
                options: ["To ignite the fuel", "To atomize and inject fuel into the cylinder", "To filter fuel", "To regulate air intake"],
                answer: 1,
                explanation: "The fuel injector atomizes and injects diesel fuel directly into the combustion chamber."
            },
            {
                q: "Which lubricant property is critical for cold-start performance?",
                options: ["High viscosity", "Low pour point", "High flash point", "High acidity"],
                answer: 1,
                explanation: "A low pour point ensures the lubricant flows effectively during cold starts."
            },
            {
                q: "What is the function of the master cylinder in the braking system?",
                options: ["To apply friction", "To generate hydraulic pressure", "To store brake fluid", "To release pressure"],
                answer: 1,
                explanation: "The master cylinder generates hydraulic pressure to activate the brake system."
            },
            {
                q: "Which fuel system component is responsible for maintaining constant fuel pressure?",
                options: ["Fuel pump", "Fuel regulator", "Fuel filter", "Fuel injector"],
                answer: 1,
                explanation: "The fuel regulator maintains a constant pressure to the injectors for consistent performance."
            }
        ];

        let currentPage = 0;
        let score = 0;
        let skipped = [];
        let userAnswers = Array(questions.length).fill(null);
        let timerSeconds = 0;
        let timerInterval;
        const QUESTIONS_PER_PAGE = 5;
        const ANSWER_DELAY = 1000;

        const quizEl = document.getElementById("quiz");
        const scoreEl = document.getElementById("score");
        const resultsEl = document.getElementById("results");
        const resultsBody = document.getElementById("results-body");
        const progressEl = document.getElementById("progress");
        const timerEl = document.getElementById("timer");
        const currentScoreEl = document.getElementById("current-score");
        const correctSound = document.getElementById("correct-sound");
        const wrongSound = document.getElementById("wrong-sound");

        // Clear progress to start fresh
        function clearProgress() {
            localStorage.removeItem("quizProgressAutomotive");
            currentPage = 0;
            score = 0;
            skipped = [];
            userAnswers = Array(questions.length).fill(null);
            timerSeconds = 0;
        }

        // Save progress to localStorage
        function saveProgress() {
            localStorage.setItem("quizProgressAutomotive", JSON.stringify({
                currentPage,
                score,
                skipped,
                answers: userAnswers,
                time: timerSeconds
            }));
        }

        // Update current score display
        function updateCurrentScore() {
            currentScoreEl.textContent = `Score: ${score}/${questions.length}`;
        }

        // Shuffle array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Start timer
        function startTimer() {
            timerInterval = setInterval(() => {
                timerSeconds++;
                const minutes = Math.floor(timerSeconds / 60);
                const seconds = timerSeconds % 60;
                timerEl.textContent = `Time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                saveProgress();
            }, 1000);
        }

        // Update progress bar
        function updateProgress() {
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            const percentage = (answeredCount / questions.length) * 100;
            progressEl.style.width = `${percentage}%`;
        }

        // Show questions for the current page
        function showQuestions(page) {
            quizEl.innerHTML = '';
            const startIndex = page * QUESTIONS_PER_PAGE;
            const endIndex = Math.min(startIndex + QUESTIONS_PER_PAGE, questions.length);

            for (let i = startIndex; i < endIndex; i++) {
                const q = questions[i];
                const shuffledOptions = shuffle([...q.options].map((opt, j) => ({ text: opt, index: j })));
                const optionsHtml = shuffledOptions
                    .map(opt => `<button onclick="checkAnswer(this, ${i}, ${opt.index}, '${opt.text.replace(/'/g, "\\'")}')">${opt.text}</button>`)
                    .join('');
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('question');
                questionDiv.dataset.index = i;
                questionDiv.innerHTML = `
                    <p>Q${i + 1}. ${q.q}</p>
                    <div class="options">${optionsHtml}</div>
                    <button class="skip-button" onclick="skipQuestion(${i})">Skip</button>
                    <div class="explanation">${q.explanation}</div>
                `;
                quizEl.appendChild(questionDiv);
            }

            if (endIndex < questions.length || skipped.length > 0) {
                const nextButton = document.createElement('button');
                nextButton.classList.add('next-button');
                nextButton.textContent = endIndex < questions.length ? 'Next' : 'Review Skipped Questions';
                nextButton.onclick = nextPage;
                nextButton.disabled = !areAllQuestionsAnsweredOnPage(startIndex, endIndex);
                quizEl.appendChild(nextButton);
            } else {
                const submitButton = document.createElement('button');
                submitButton.classList.add('next-button');
                submitButton.textContent = 'Submit Quiz';
                submitButton.onclick = endQuiz;
                submitButton.disabled = !areAllQuestionsAnsweredOnPage(startIndex, endIndex);
                quizEl.appendChild(submitButton);
            }

            updateProgress();
            saveProgress();
            restoreAnswers(startIndex, endIndex);
        }

        // Restore previous answers for the current page
        function restoreAnswers(startIndex, endIndex) {
            for (let i = startIndex; i < endIndex; i++) {
                if (userAnswers[i] !== null && userAnswers[i] !== 'Skipped') {
                    const questionDiv = document.querySelector(`.question[data-index="${i}"]`);
                    const buttons = questionDiv.querySelectorAll('.options button');
                    const q = questions[i];
                    buttons.forEach(btn => {
                        btn.disabled = true;
                        if (btn.textContent === q.options[q.answer]) {
                            btn.classList.add('correct');
                        }
                        if (btn.textContent === userAnswers[i] && userAnswers[i] !== q.options[q.answer]) {
                            btn.classList.add('wrong');
                        }
                    });
                    questionDiv.querySelector('.explanation').style.display = 'block';
                    questionDiv.querySelector('.skip-button').disabled = true;
                } else if (userAnswers[i] === 'Skipped') {
                    const questionDiv = document.querySelector(`.question[data-index="${i}"]`);
                    questionDiv.querySelectorAll('.options button').forEach(btn => btn.disabled = true);
                    questionDiv.querySelector('.skip-button').disabled = true;
                    questionDiv.querySelector('.explanation').style.display = 'block';
                }
            }
        }

        // Check if all questions on the current page are answered or skipped
        function areAllQuestionsAnsweredOnPage(startIndex, endIndex) {
            for (let i = startIndex; i < endIndex; i++) {
                if (userAnswers[i] === null) {
                    return false;
                }
            }
            return true;
        }

        // Check answer
        function checkAnswer(button, questionIndex, selected, selectedText) {
            const q = questions[questionIndex];
            const correct = q.answer;
            const buttons = button.parentElement.querySelectorAll("button");
            const questionDiv = button.closest('.question');
            const explanationDiv = questionDiv.querySelector('.explanation');

            buttons.forEach(btn => {
                btn.disabled = true;
                if (q.options.indexOf(btn.textContent) === correct) {
                    btn.classList.add('correct');
                }
                if (btn === button && selected !== correct) {
                    btn.classList.add('wrong');
                }
            });

            questionDiv.querySelector('.skip-button').disabled = true;
            explanationDiv.style.display = 'block';

            userAnswers[questionIndex] = selectedText;
            if (selected === correct) {
                score++;
                correctSound.play().catch(() => console.log("Audio playback failed"));
            } else {
                wrongSound.play().catch(() => console.log("Audio playback failed"));
            }

            updateCurrentScore();
            saveProgress();
            const nextButton = quizEl.querySelector('.next-button');
            if (nextButton) {
                nextButton.disabled = !areAllQuestionsAnsweredOnPage(
                    currentPage * QUESTIONS_PER_PAGE,
                    Math.min((currentPage + 1) * QUESTIONS_PER_PAGE, questions.length)
                );
            }

            setTimeout(() => {
                if (areAllQuestionsAnsweredOnPage(
                    currentPage * QUESTIONS_PER_PAGE,
                    Math.min((currentPage + 1) * QUESTIONS_PER_PAGE, questions.length)
                )) {
                    nextPage();
                }
            }, ANSWER_DELAY);
        }

        // Skip question
        function skipQuestion(questionIndex) {
            if (!skipped.includes(questions[questionIndex])) {
                skipped.push(questions[questionIndex]);
                userAnswers[questionIndex] = 'Skipped';
                const questionDiv = document.querySelector(`.question[data-index="${questionIndex}"]`);
                if (questionDiv) {
                    questionDiv.querySelectorAll('.options button').forEach(btn => btn.disabled = true);
                    questionDiv.querySelector('.skip-button').disabled = true;
                    questionDiv.querySelector('.explanation').style.display = 'block';
                }
                saveProgress();
                const nextButton = quizEl.querySelector('.next-button');
                if (nextButton) {
                    nextButton.disabled = !areAllQuestionsAnsweredOnPage(
                        currentPage * QUESTIONS_PER_PAGE,
                        Math.min((currentPage + 1) * QUESTIONS_PER_PAGE, questions.length)
                    );
                }
            }
        }

        // Move to next page
        function nextPage() {
            if (skipped.length > 0 && currentPage * QUESTIONS_PER_PAGE >= questions.length) {
                showSkippedQuestions();
            } else {
                currentPage++;
                if (currentPage * QUESTIONS_PER_PAGE < questions.length) {
                    showQuestions(currentPage);
                } else if (skipped.length === 0) {
                    endQuiz();
                } else {
                    showSkippedQuestions();
                }
            }
        }

        // Show skipped questions
        function showSkippedQuestions() {
            questions.splice(0, questions.length, ...skipped);
            skipped = [];
            currentPage = 0;
            showQuestions(currentPage);
        }

        // End quiz and show results
        function endQuiz() {
            clearInterval(timerInterval);
            quizEl.innerHTML = '';
            scoreEl.textContent = `Final Score: ${score} out of ${questions.length} (${((score / questions.length) * 100).toFixed(2)}%)`;
            resultsEl.classList.remove('hidden');

            resultsBody.innerHTML = questions.map((q, i) => {
                const userAnswer = userAnswers[i] === null ? 'Not attempted' :
                                  userAnswers[i] === 'Skipped' ? 'Skipped' :
                                  userAnswers[i];
                const correctAnswer = q.options[q.answer];
                const status = userAnswers[i] === q.options[q.answer] ? 'Correct' :
                              userAnswers[i] === 'Skipped' ? 'Skipped' :
                              userAnswers[i] === null ? 'Not-attempted' : 'Wrong';
                return `
                    <tr>
                        <td>${i + 1}. ${q.q}</td>
                        <td>${userAnswer}</td>
                        <td>${correctAnswer}</td>
                        <td class="${status.toLowerCase().replace(' ', '-')}">${status}</td>
                        <td class="explanation">${q.explanation}</td>
                    </tr>
                `;
            }).join('');

            localStorage.removeItem('quizProgressAutomotive');
        }

        // Restart quiz
        function restartQuiz() {
            clearProgress();
            resultsEl.classList.add('hidden');
            scoreEl.textContent = '';
            startTimer();
            showQuestions(currentPage);
            updateCurrentScore();
        }

        // Initialize quiz
        function initialize() {
            clearProgress();
            startTimer();
            showQuestions(currentPage);
            updateCurrentScore();
        }

        // Start quiz on page load
        initialize();
    </script>
</body>
</html>
