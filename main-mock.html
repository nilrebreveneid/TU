<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering Mock Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            margin: 0 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff87, #60efff);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .test-area {
            padding: 40px;
        }

        .question-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .question-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .question-text {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
            margin: 20px 0;
            line-height: 1.4;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            border-color: #3498db;
            background: #f8f9ff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }

        .option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }

        .option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
            animation: correctPulse 0.6s ease;
        }

        .option.incorrect {
            border-color: #e74c3c;
            background: #fdeaea;
            animation: incorrectShake 0.6s ease;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .option-letter {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.correct .option-letter {
            background: #27ae60;
        }

        .option.incorrect .option-letter {
            background: #e74c3c;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .explanation {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .results {
            text-align: center;
            padding: 40px;
        }

        .score-display {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .score-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-top: 4px solid #3498db;
        }

        .score-card.correct {
            border-top-color: #27ae60;
        }

        .score-card.incorrect {
            border-top-color: #e74c3c;
        }

        .score-card.skipped {
            border-top-color: #f39c12;
        }

        .score-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .start-screen {
            text-align: center;
            padding: 60px 40px;
        }

        .start-screen h2 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .test-info {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .test-info ul {
            list-style: none;
            padding: 0;
        }

        .test-info li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .test-info li:last-child {
            border-bottom: none;
        }

        .info-icon {
            width: 20px;
            height: 20px;
            background: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .test-area {
                padding: 20px;
            }

            .progress-info {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .controls {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 Engineering Mock Test</h1>
            <div id="progressInfo" class="progress-info hidden">
                <div>Page <span id="currentPage">1</span> of 6</div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <div>Score: <span id="currentScore">0</span></div>
            </div>
        </div>

        <div id="startScreen" class="start-screen">
            <h2>Welcome to the Engineering Mock Test</h2>
            <div class="test-info">
                <ul>
                    <li>
                        <div class="info-icon">📝</div>
                        <div><strong>Total Questions:</strong> 60 MCQs covering various engineering topics</div>
                    </li>
                    <li>
                        <div class="info-icon">📄</div>
                        <div><strong>Format:</strong> 10 questions per page (6 pages total)</div>
                    </li>
                    <li>
                        <div class="info-icon">✅</div>
                        <div><strong>Scoring:</strong> +1 mark for correct answer</div>
                    </li>
                    <li>
                        <div class="info-icon">❌</div>
                        <div><strong>Negative Marking:</strong> -0.2 marks for wrong answer (5 wrong = -1 mark)</div>
                    </li>
                    <li>
                        <div class="info-icon">⏭️</div>
                        <div><strong>Skip Option:</strong> You can skip questions you're unsure about</div>
                    </li>
                    <li>
                        <div class="info-icon">🔄</div>
                        <div><strong>Random Order:</strong> Questions are shuffled on each attempt</div>
                    </li>
                    <li>
                        <div class="info-icon">💡</div>
                        <div><strong>Instant Feedback:</strong> See correct/incorrect answers immediately</div>
                    </li>
                </ul>
            </div>
            <button class="btn btn-primary" onclick="startTest()" style="font-size: 1.2em; padding: 15px 40px;">
                🚀 Start Test
            </button>
        </div>

        <div id="testArea" class="test-area hidden">
            <div id="questionContainer" class="question-container">
                <!-- Questions will be loaded here -->
            </div>
            
            <div class="controls">
                <button id="skipBtn" class="btn btn-warning" onclick="skipQuestion()">
                    ⏭️ Skip Question
                </button>
                <div>
                    <button id="prevBtn" class="btn btn-secondary" onclick="previousPage()" disabled>
                        ⬅️ Previous
                    </button>
                    <button id="nextBtn" class="btn btn-primary" onclick="nextPage()" disabled>
                        Next ➡️
                    </button>
                </div>
            </div>
        </div>

        <div id="resultsArea" class="results hidden">
            <h2>🎉 Test Complete!</h2>
            <div id="scoreDisplay" class="score-display"></div>
            <div id="scoreBreakdown" class="score-breakdown"></div>
            <button class="btn btn-primary" onclick="restartTest()" style="margin-top: 30px;">
                🔄 Take Test Again
            </button>
        </div>
    </div>

    <script>
        const questions = [
            // Engineering Mechanics
            {
                "q": "What is the primary purpose of a couple in engineering mechanics?",
                "options": ["To produce linear motion", "To create rotational motion", "To increase mass", "To reduce friction"],
                "answer": 1,
                "explanation": "A couple consists of two equal and opposite forces that produce pure rotational motion without translation."
            },
            {
                "q": "Which force acts perpendicular to the surface of contact?",
                "options": ["Frictional force", "Normal force", "Tension force", "Applied force"],
                "answer": 1,
                "explanation": "The normal force acts perpendicular to the surface, balancing the weight component."
            },
            {
                "q": "What is the unit of moment of inertia in the SI system?",
                "options": ["kg·m²", "N·m", "kg·m/s", "Joule"],
                "answer": 0,
                "explanation": "Moment of inertia is mass times the square of distance, measured in kg·m²."
            },
            {
                "q": "How does the center of gravity shift in a composite body?",
                "options": ["Depends only on volume", "Depends on mass distribution", "Remains constant", "Depends on temperature"],
                "answer": 1,
                "explanation": "The center of gravity shifts based on the weighted average of mass distribution in a composite body."
            },
            {
                "q": "What is the condition for equilibrium of a rigid body under coplanar forces?",
                "options": ["ΣF = 0 and ΣM ≠ 0", "ΣF ≠ 0 and ΣM = 0", "ΣF = 0 and ΣM = 0", "ΣF = 0 only"],
                "answer": 2,
                "explanation": "For equilibrium, the sum of forces (ΣF) and moments (ΣM) must both be zero."
            },

            // Automobiles
            {
                "q": "What is the main function of a carburetor in an automobile?",
                "options": ["To regulate engine temperature", "To mix air and fuel for combustion", "To store fuel", "To lubricate engine parts"],
                "answer": 1,
                "explanation": "The carburetor mixes air with a fine spray of liquid fuel to create a combustible mixture for the engine."
            },
            {
                "q": "Which component stores electrical energy in a vehicle?",
                "options": ["Alternator", "Battery", "Starter motor", "Fuel pump"],
                "answer": 1,
                "explanation": "The battery stores electrical energy to power the vehicle's electrical systems."
            },
            {
                "q": "What is the purpose of a differential in an automobile?",
                "options": ["To increase engine power", "To allow wheels to rotate at different speeds", "To cool the engine", "To adjust tire pressure"],
                "answer": 1,
                "explanation": "The differential enables wheels to rotate at different speeds, especially during turns."
            },
            {
                "q": "How does an anti-lock braking system (ABS) improve safety?",
                "options": ["By increasing braking distance", "By preventing wheel lockup", "By reducing engine power", "By enhancing fuel efficiency"],
                "answer": 1,
                "explanation": "ABS prevents wheel lockup, allowing better steering control during braking."
            },
            {
                "q": "What is the effect of a high compression ratio in an internal combustion engine?",
                "options": ["Decreased thermal efficiency", "Increased thermal efficiency", "Reduced power output", "Lower fuel consumption"],
                "answer": 1,
                "explanation": "A higher compression ratio increases thermal efficiency by improving combustion."
            },

            // Engineering Economics
            {
                "q": "What is the primary focus of engineering economics?",
                "options": ["Designing machinery", "Evaluating economic viability of projects", "Improving material strength", "Analyzing fluid dynamics"],
                "answer": 1,
                "explanation": "Engineering economics assesses the financial aspects and feasibility of engineering projects."
            },
            {
                "q": "Which factor is considered in a cost-benefit analysis?",
                "options": ["Employee morale", "Net present value of benefits", "Machine color", "Weather conditions"],
                "answer": 1,
                "explanation": "Cost-benefit analysis evaluates the net present value of benefits against costs."
            },
            {
                "q": "What does the term 'depreciation' refer to in engineering economics?",
                "options": ["Increase in asset value", "Decrease in asset value over time", "Increase in profit", "Reduction in labor cost"],
                "answer": 1,
                "explanation": "Depreciation accounts for the reduction in an asset's value due to wear and tear."
            },
            {
                "q": "How is the present worth of future cash flows calculated?",
                "options": ["By adding future values", "By discounting future cash flows", "By multiplying by inflation rate", "By dividing by interest rate"],
                "answer": 1,
                "explanation": "Present worth is calculated by discounting future cash flows using an interest rate."
            },
            {
                "q": "What is the break-even point in a project analysis?",
                "options": ["Point where revenue equals fixed costs", "Point where total revenue equals total costs", "Point where profit is maximized", "Point where costs are zero"],
                "answer": 1,
                "explanation": "Break-even point is where total revenue equals total costs, yielding no profit or loss."
            },

            // Fluid Mechanics
            {
                "q": "What is the purpose of a Venturi meter in fluid mechanics?",
                "options": ["To measure fluid velocity", "To increase fluid pressure", "To filter impurities", "To store fluid"],
                "answer": 0,
                "explanation": "A Venturi meter measures fluid velocity based on pressure differences."
            },
            {
                "q": "Which property of a fluid determines its resistance to flow?",
                "options": ["Density", "Viscosity", "Pressure", "Temperature"],
                "answer": 1,
                "explanation": "Viscosity measures a fluid's resistance to flow or shear stress."
            },
            {
                "q": "What is the continuity equation based on in fluid mechanics?",
                "options": ["Conservation of momentum", "Conservation of mass", "Conservation of energy", "Conservation of pressure"],
                "answer": 1,
                "explanation": "The continuity equation ensures mass is conserved in a flowing fluid (A1v1 = A2v2)."
            },
            {
                "q": "How does Bernoulli's equation relate pressure and velocity in a fluid?",
                "options": ["Directly proportional", "Inversely proportional", "No relation", "Constant sum"],
                "answer": 1,
                "explanation": "Bernoulli's equation shows that an increase in velocity decreases pressure (P + ½ρv² + ρgh = constant)."
            },
            {
                "q": "What is the critical Reynolds number for the transition from laminar to turbulent flow in a pipe?",
                "options": ["100", "1000", "2300", "4000"],
                "answer": 2,
                "explanation": "The critical Reynolds number is approximately 2300, marking the transition in pipe flow."
            },

            // Heat Engine
            {
                "q": "What is the primary function of a piston in a heat engine?",
                "options": ["To generate electricity", "To convert pressure into mechanical work", "To store fuel", "To cool the engine"],
                "answer": 1,
                "explanation": "The piston converts gas pressure into mechanical work in a heat engine."
            },
            {
                "q": "Which stroke in a four-stroke engine involves fuel ignition?",
                "options": ["Intake stroke", "Compression stroke", "Power stroke", "Exhaust stroke"],
                "answer": 2,
                "explanation": "The power stroke ignites fuel to drive the piston."
            },
            {
                "q": "What is the efficiency of an ideal heat engine operating on the Carnot cycle?",
                "options": ["1 - (Tc/Th)", "1 + (Tc/Th)", "Tc/Th", "Th/Tc"],
                "answer": 0,
                "explanation": "Carnot efficiency is 1 - (Tc/Th), where Tc and Th are absolute temperatures."
            },
            {
                "q": "How does supercharging affect a heat engine's performance?",
                "options": ["Reduces power output", "Increases power by forcing more air", "Decreases fuel efficiency", "Lowers compression ratio"],
                "answer": 1,
                "explanation": "Supercharging increases air intake, boosting power output."
            },
            {
                "q": "What is the effect of increasing the cut-off ratio in a diesel cycle?",
                "options": ["Decreases thermal efficiency", "Increases thermal efficiency", "No effect on efficiency", "Reduces work output"],
                "answer": 0,
                "explanation": "A higher cut-off ratio reduces diesel cycle efficiency due to increased heat rejection."
            },

            // Maintenance
            {
                "q": "Predictive maintenance involves:",
                "options": ["Performing maintenance based on fixed schedules", "Using data and sensors to predict equipment failures", "Repairing after breakdowns", "Cleaning equipment only"],
                "answer": 1,
                "explanation": "Predictive maintenance uses data from sensors to predict when equipment might fail, allowing timely interventions."
            },
            {
                "q": "Which is NOT a personal safety device?",
                "options": ["Seat belt cover", "Safety goggles", "Gloves", "Helmet"],
                "answer": 0,
                "explanation": "A seat belt cover is an accessory, not a safety device; goggles, gloves, and helmets protect against hazards."
            },
            {
                "q": "Periodic maintenance is carried out based on:",
                "options": ["Time-based intervals", "Running hours", "Breakdowns", "Operator preference"],
                "answer": 1,
                "explanation": "Periodic maintenance is often scheduled based on equipment running hours to ensure timely upkeep."
            },
            {
                "q": "Which maintenance type uses sensors to monitor machine health?",
                "options": ["Condition-based maintenance", "Breakdown maintenance", "Preventive maintenance", "Corrective maintenance"],
                "answer": 0,
                "explanation": "Condition-based maintenance uses sensors to monitor equipment health for timely maintenance."
            },
            {
                "q": "What is a major disadvantage of breakdown maintenance?",
                "options": ["High initial cost", "Unplanned downtime", "Requires advanced tools", "Frequent scheduling"],
                "answer": 1,
                "explanation": "Breakdown maintenance leads to unplanned downtime, disrupting operations and increasing costs."
            },

            // Material Science
            {
                "q": "Which of the following is a ferrous metal?",
                "options": ["Aluminum", "Copper", "Carbon steel", "Titanium"],
                "answer": 2,
                "explanation": "Carbon steel contains iron as its primary component, classifying it as a ferrous metal."
            },
            {
                "q": "Which property describes a material's ability to absorb energy before fracturing?",
                "options": ["Hardness", "Toughness", "Ductility", "Brittleness"],
                "answer": 1,
                "explanation": "Toughness measures a material's capacity to absorb energy and deform plastically."
            },
            {
                "q": "Which phase is soft and ductile in the iron-carbon diagram?",
                "options": ["Austenite", "Ferrite", "Cementite", "Pearlite"],
                "answer": 1,
                "explanation": "Ferrite is a soft, ductile phase with low carbon content."
            },
            {
                "q": "Which heat treatment process relieves internal stresses in steel?",
                "options": ["Hardening", "Annealing", "Quenching", "Tempering"],
                "answer": 1,
                "explanation": "Annealing relieves internal stresses through slow cooling."
            },
            {
                "q": "The eutectic point on the iron-carbon diagram is at:",
                "options": ["0.83% C, 723°C", "4.3% C, 1147°C", "2.11% C, 1130°C", "1.0% C, 700°C"],
                "answer": 1,
                "explanation": "The eutectic point occurs at 4.3% carbon and 1147°C, forming ledeburite."
            },

            // Record Keeping
            {
                "q": "What is the importance of record keeping in a workshop?",
                "options": ["To analyze equipment performance and costs", "To decorate the office", "To track employee salaries", "To monitor office supplies"],
                "answer": 0,
                "explanation": "Record keeping tracks equipment performance, maintenance costs, and operational efficiency, aiding decision-making."
            },
            {
                "q": "Which document is used to track daily usage and issues of a vehicle?",
                "options": ["Logbook", "Bill book", "Service manual", "Warranty card"],
                "answer": 0,
                "explanation": "A logbook records daily vehicle usage, mileage, and issues for operational tracking."
            },
            {
                "q": "Which section of a job card records the labor hours?",
                "options": ["Parts list", "Work description", "Labor details", "Customer information"],
                "answer": 2,
                "explanation": "The labor details section records the hours spent on maintenance tasks."
            },
            {
                "q": "Which estimation method uses historical data for cost prediction?",
                "options": ["Analogous estimation", "Parametric estimation", "Bottom-up estimation", "Top-down estimation"],
                "answer": 0,
                "explanation": "Analogous estimation relies on past project data to predict maintenance costs."
            },
            {
                "q": "What is the straight-line depreciation formula?",
                "options": ["(Cost - Salvage) / Useful life", "(Cost + Salvage) / Useful life", "Cost / Useful life", "Salvage / Useful life"],
                "answer": 0,
                "explanation": "Straight-line depreciation is calculated as (Initial Cost - Salvage Value) / Useful Life."
            },

            // Safety Practice
            {
                "q": "Why is safety important in a workshop?",
                "options": ["To increase production speed", "To prevent accidents and injuries", "To reduce material costs", "To enhance tool durability"],
                "answer": 1,
                "explanation": "Safety practices prevent accidents, protecting workers and reducing downtime."
            },
            {
                "q": "What is a first aid kit used for?",
                "options": ["To repair machines", "To treat minor injuries", "To extinguish fires", "To measure voltage"],
                "answer": 1,
                "explanation": "First aid kits provide supplies to treat minor injuries on-site."
            },
            {
                "q": "Which type of fire extinguisher is used for electrical fires?",
                "options": ["Water", "CO2", "Foam", "Dry powder"],
                "answer": 1,
                "explanation": "CO2 extinguishers are safe for electrical fires as they don't conduct electricity."
            },
            {
                "q": "What is the function of a safety harness?",
                "options": ["To lift heavy tools", "To prevent falls from heights", "To protect against fire", "To reduce noise exposure"],
                "answer": 1,
                "explanation": "Safety harnesses secure workers at heights to prevent falls."
            },
            {
                "q": "What does environmental safety aim to protect?",
                "options": ["Equipment only", "Workers and surroundings", "Machines only", "Tools only"],
                "answer": 1,
                "explanation": "Environmental safety minimizes harm to workers and the environment."
            },

            // Thermodynamics
            {
                "q": "The unit of temperature is based on:",
                "options": ["Boiling point of mercury", "Triple point of water", "Freezing point of alcohol", "Melting point of ice"],
                "answer": 1,
                "explanation": "The Kelvin scale is defined using the triple point of water (273.16 K)."
            },
            {
                "q": "Essential condition for heat transfer is:",
                "options": ["Difference in conductivity", "Difference in temperature", "Same temperature", "High pressure"],
                "answer": 1,
                "explanation": "Heat flows from higher to lower temperature per thermodynamic principles."
            },
            {
                "q": "The value of Cp/Cv for air is:",
                "options": ["1.2", "1.4", "1.0", "1.6"],
                "answer": 1,
                "explanation": "For air (a diatomic gas), Cp/Cv (γ) is approximately 1.4 at standard conditions."
            },
            {
                "q": "Heat engine attains 100% thermal efficiency: it violates:",
                "options": ["First law of thermodynamics", "Second law of thermodynamics", "Zeroth law", "Third law"],
                "answer": 1,
                "explanation": "100% efficiency violates the second law, as some heat must be rejected."
            },
            {
                "q": "The efficiency of the Joule cycle is:",
                "options": ["Greater than Carnot cycle", "Less than Carnot cycle", "Equal to Carnot cycle", "Independent of temperature"],
                "answer": 1,
                "explanation": "The Joule (Brayton) cycle is less efficient than the Carnot cycle."
            },

            // Workshop & Drawing
            {
                "q": "Which tool is primarily used for driving nails into wood or metal?",
                "options": ["Screwdriver", "Hammer", "Chisel", "File"],
                "answer": 1,
                "explanation": "A hammer is designed to drive nails and shape materials through impact."
            },
            {
                "q": "What hand operation is used to smooth metal surfaces?",
                "options": ["Drilling", "Filing", "Tapping", "Reaming"],
                "answer": 1,
                "explanation": "Filing involves using a file to smooth or shape metal surfaces."
            },
            {
                "q": "Which machine tool is used to create cylindrical shapes by rotating the workpiece?",
                "options": ["Shaper", "Lathe", "Milling machine", "Grinding machine"],
                "answer": 1,
                "explanation": "A lathe rotates the workpiece against a cutting tool to produce cylindrical shapes."
            },
            {
                "q": "Which metal joining technique uses a filler metal with a melting point below 450°C?",
                "options": ["Brazing", "Soldering", "Gas welding", "Arc welding"],
                "answer": 1,
                "explanation": "Soldering uses a low-melting-point filler (solder) below 450°C."
            },
            {
                "q": "Which machine tool component holds the workpiece in a lathe?",
                "options": ["Tool post", "Chuck", "Tailstock", "Spindle"],
                "answer": 1,
                "explanation": "The chuck secures the workpiece in a lathe for rotation."
            },

            // TU 2050 Rules and Regulations
            {
                "q": "त्रिभुवन विश्वविद्यालयको संक्षिप्त नाम (TU) को पूर्ण रूप के हो?",
                "options": ["प्राविधिक विश्वविद्यालय", "त्रिभुवन विश्वविद्यालय", "तृतीय विश्वविद्यालय", "प्रशिक्षण विश्वविद्यालय"],
                "answer": 1,
                "explanation": "त्रिभुवन विश्वविद्यालय नेपालको पहिलो र ठूलो विश्वविद्यालय हो।"
            },
            {
                "q": "त्रिभुवन विश्वविद्यालय ऐन कुन वर्षमा स्थापना भएको हो?",
                "options": ["१९९० ई.", "१९५९ ई.", "१९७० ई.", "१९८० ई."],
                "answer": 1,
                "explanation": "त्रिभुवन विश्वविद्यालय ऐन २०१५ वि.सं. (१९५९ ई.) मा स्थापना भएको हो।"
            },
            {
                "q": "त्रिभुवन विश्वविद्यालयका कर्मचारीको अनिवार्य अवकाश उमेर कति हो?",
                "options": ["५५ वर्ष", "६० वर्ष", "६५ वर्ष", "५८ वर्ष"],
                "answer": 1,
                "explanation": "नियमावली अनुसार ६० वर्षमा अवकाश अनिवार्य हुन्छ।"
            },
            {
                "q": "गर्भवती महिलालाई कति दिनको प्रसूति विदा दिइन्छ?",
                "options": ["बिरामी विदा", "प्रसूति विदा", "अध्ययन विदा", "आकस्मिक विदा"],
                "answer": 1,
                "explanation": "प्रसूति विदा ९५ दिनसम्म दिइन्छ।"
            },
            {
                "q": "त्रिभुवन विश्वविद्यालयको नियमावलीको दफा ४६ अनुसार असाधारण परिवारिक निवृत्तिभरण कति प्रतिशत हुन्छ?",
                "options": ["२५%", "५०%", "७५%", "१००%"],
                "answer": 2,
                "explanation": "७५% सम्म परिवारिक निवृत्तिभरण हुन्छ।"
            }
        ];

        // Test state variables
        let shuffledQuestions = [];
        let currentPage = 0;
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let score = 0;
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let skippedQuestions = 0;
        const questionsPerPage = 10;
        const totalPages = 6;

        // Initialize test
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startTest() {
            // Shuffle questions randomly
            shuffledQuestions = shuffleArray(questions);
            
            // Reset all state
            currentPage = 0;
            currentQuestionIndex = 0;
            userAnswers = {};
            score = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            skippedQuestions = 0;

            // Show test area
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testArea').classList.remove('hidden');
            document.getElementById('progressInfo').classList.remove('hidden');

            loadPage();
        }

        function loadPage() {
            const startIndex = currentPage * questionsPerPage;
            const endIndex = Math.min(startIndex + questionsPerPage, shuffledQuestions.length);
            const pageQuestions = shuffledQuestions.slice(startIndex, endIndex);

            let html = '';
            pageQuestions.forEach((question, index) => {
                const questionNumber = startIndex + index + 1;
                const globalIndex = startIndex + index;
                
                html += `
                    <div class="question-container" id="question-${globalIndex}">
                        <div class="question-header">
                            <div class="question-number">Question ${questionNumber}</div>
                        </div>
                        <div class="question-text">${question.q}</div>
                        <div class="options-container">
                            ${question.options.map((option, optionIndex) => `
                                <div class="option" onclick="selectOption(${globalIndex}, ${optionIndex})" id="option-${globalIndex}-${optionIndex}">
                                    <div class="option-letter">${String.fromCharCode(65 + optionIndex)}</div>
                                    <div>${option}</div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="explanation" id="explanation-${globalIndex}">
                            <h4>💡 Explanation:</h4>
                            <p>${question.explanation}</p>
                        </div>
                    </div>
                `;
            });

            document.getElementById('testArea').innerHTML = `
                <div>${html}</div>
                <div class="controls">
                    <button id="skipBtn" class="btn btn-warning" onclick="skipQuestion()">
                        ⏭️ Skip Question
                    </button>
                    <div>
                        <button id="prevBtn" class="btn btn-secondary" onclick="previousPage()" ${currentPage === 0 ? 'disabled' : ''}>
                            ⬅️ Previous
                        </button>
                        <button id="nextBtn" class="btn btn-primary" onclick="nextPage()" disabled>
                            ${currentPage === totalPages - 1 ? 'Finish Test' : 'Next ➡️'}
                        </button>
                    </div>
                </div>
            `;

            updateProgress();
            updateCurrentQuestionIndex();
        }

        function selectOption(questionIndex, optionIndex) {
            const question = shuffledQuestions[questionIndex];
            const isCorrect = optionIndex === question.answer;
            
            // Store user answer
            userAnswers[questionIndex] = optionIndex;

            // Update score
            if (isCorrect) {
                if (userAnswers[questionIndex] !== question.answer) {
                    correctAnswers++;
                    score += 1;
                }
            } else {
                if (userAnswers[questionIndex] === question.answer) {
                    correctAnswers--;
                    score -= 1;
                }
                wrongAnswers++;
                score -= 0.2; // Negative marking
            }

            // Visual feedback
            const options = document.querySelectorAll(`#question-${questionIndex} .option`);
            options.forEach((option, index) => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.classList.add('disabled');
                
                if (index === question.answer) {
                    option.classList.add('correct');
                } else if (index === optionIndex && index !== question.answer) {
                    option.classList.add('incorrect');
                }
            });

            // Show explanation
            document.getElementById(`explanation-${questionIndex}`).classList.add('show');

            // Enable next button or skip button
            updateNavigationButtons();
            updateScore();
        }

        function skipQuestion() {
            const startIndex = currentPage * questionsPerPage;
            const currentQuestionGlobalIndex = startIndex + currentQuestionIndex;
            
            // Mark as skipped if not already answered
            if (!(currentQuestionGlobalIndex in userAnswers)) {
                userAnswers[currentQuestionGlobalIndex] = 'skipped';
                skippedQuestions++;
            }

            // Move to next question or page
            if (currentQuestionIndex < questionsPerPage - 1) {
                currentQuestionIndex++;
                scrollToCurrentQuestion();
            } else {
                nextPage();
            }

            updateNavigationButtons();
        }

        function scrollToCurrentQuestion() {
            const startIndex = currentPage * questionsPerPage;
            const currentQuestionGlobalIndex = startIndex + currentQuestionIndex;
            const questionElement = document.getElementById(`question-${currentQuestionGlobalIndex}`);
            if (questionElement) {
                questionElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function nextPage() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                currentQuestionIndex = 0;
                loadPage();
            } else {
                showResults();
            }
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
                currentQuestionIndex = 0;
                loadPage();
            }
        }

        function updateProgress() {
            const progress = ((currentPage + 1) / totalPages) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('currentPage').textContent = currentPage + 1;
        }

        function updateScore() {
            document.getElementById('currentScore').textContent = Math.round(score * 10) / 10;
        }

        function updateCurrentQuestionIndex() {
            const startIndex = currentPage * questionsPerPage;
            for (let i = 0; i < questionsPerPage; i++) {
                const globalIndex = startIndex + i;
                if (!(globalIndex in userAnswers)) {
                    currentQuestionIndex = i;
                    break;
                }
            }
        }

        function updateNavigationButtons() {
            const nextBtn = document.getElementById('nextBtn');
            const skipBtn = document.getElementById('skipBtn');
            
            // Check if current page has any answered questions
            const startIndex = currentPage * questionsPerPage;
            const endIndex = Math.min(startIndex + questionsPerPage, shuffledQuestions.length);
            let hasAnsweredQuestions = false;
            
            for (let i = startIndex; i < endIndex; i++) {
                if (i in userAnswers) {
                    hasAnsweredQuestions = true;
                    break;
                }
            }
            
            nextBtn.disabled = !hasAnsweredQuestions;
            
            // Check if all questions on current page are answered
            let allAnswered = true;
            for (let i = startIndex; i < endIndex; i++) {
                if (!(i in userAnswers)) {
                    allAnswered = false;
                    break;
                }
            }
            
            skipBtn.style.display = allAnswered ? 'none' : 'block';
        }

        function showResults() {
            // Calculate final statistics
            correctAnswers = 0;
            wrongAnswers = 0;
            skippedQuestions = 0;
            
            for (let i = 0; i < shuffledQuestions.length; i++) {
                if (userAnswers[i] === 'skipped' || !(i in userAnswers)) {
                    skippedQuestions++;
                } else if (userAnswers[i] === shuffledQuestions[i].answer) {
                    correctAnswers++;
                } else {
                    wrongAnswers++;
                }
            }
            
            // Recalculate final score
            score = correctAnswers - (wrongAnswers * 0.2);
            
            const percentage = ((correctAnswers / shuffledQuestions.length) * 100).toFixed(1);
            
            document.getElementById('testArea').classList.add('hidden');
            document.getElementById('progressInfo').classList.add('hidden');
            
            document.getElementById('scoreDisplay').innerHTML = `
                <div style="color: #27ae60; font-size: 0.8em;">Final Score</div>
                ${Math.round(score * 10) / 10} / ${shuffledQuestions.length}
                <div style="color: #7f8c8d; font-size: 0.5em; margin-top: 10px;">
                    (${percentage}% Correct)
                </div>
            `;
            
            document.getElementById('scoreBreakdown').innerHTML = `
                <div class="score-card correct">
                    <div class="score-number" style="color: #27ae60;">${correctAnswers}</div>
                    <div>Correct Answers</div>
                </div>
                <div class="score-card incorrect">
                    <div class="score-number" style="color: #e74c3c;">${wrongAnswers}</div>
                    <div>Wrong Answers</div>
                </div>
                <div class="score-card skipped">
                    <div class="score-number" style="color: #f39c12;">${skippedQuestions}</div>
                    <div>Skipped Questions</div>
                </div>
                <div class="score-card">
                    <div class="score-number" style="color: #3498db;">${Math.round(score * 10) / 10}</div>
                    <div>Net Score<br><small>(After -0.2 penalty)</small></div>
                </div>
            `;
            
            document.getElementById('resultsArea').classList.remove('hidden');
        }

        function restartTest() {
            document.getElementById('resultsArea').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Show start screen by default
            document.getElementById('startScreen').classList.remove('hidden');
        });
    </script>
</body>
</html>
